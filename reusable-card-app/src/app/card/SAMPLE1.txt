   @Test
    void testUpdateCashAllocationStatus_MATCHED_Flow_NonEmptyMatchedCashModels() throws Exception {
        // Create test data
        ProcessCashRequest processCashRequest = new ProcessCashRequest();
        processCashRequest.setInvoiceRefs(Arrays.asList("RSF-123", "RSF-456")); // Invoice refs start with "RSF-*"
        processCashRequest.setPaymentIds(Collections.singletonList(UUID.randomUUID().toString()));

        // Mock statusMatched method
        List<CashAllocationModel> matchedCashModels = new ArrayList<>();
        CashAllocationModel cashAllocationModel = new CashAllocationModel();
        cashAllocationModel.setValueDate(LocalDate.now()); // Set a LocalDate object
        matchedCashModels.add(cashAllocationModel);

        // Create an InvoicesList object
        InvoicesList invoicesList = new InvoicesList();
        // You might need to populate invoicesList with mock Invoice objects if the statusMatched method uses them

        when(cashAllocationDomain.statusMatched(anyString(), eq(processCashRequest), anyString(), anyList(), eq(invoicesList), any(), any())).thenReturn(matchedCashModels); // Pass the created invoicesList

        // Execute the method
        cashAllocationDomain.updateCashAllocationStatus("MATCHED", processCashRequest, "TEST_USER");

        // Verify that processCashRequest.setValueDate is called
        verify(processCashRequest, times(1)).setValueDate(any(LocalDate.class));
    }