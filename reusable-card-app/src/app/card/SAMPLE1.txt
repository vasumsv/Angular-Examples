 @Test
    void testGetPaymentLinesFromPaymentReference_success() {
        // Mock the paymentRepository.getPaymentEntitiesByPaymentReference method
        when(paymentRepository.findPaymentLinesFromPaymentReferences(paymentReferences)).thenReturn(srgPaymentModels);

        // Create a List of SsiResponse objects
        List<SsiResponse> ssiResponses = new ArrayList<>();
        SsiResponse ssiResponse1 = new SsiResponse();
        // Set properties of ssiResponse1 as needed
        ssiResponses.add(ssiResponse1);

        SsiResponse ssiResponse2 = new SsiResponse();
        // Set properties of ssiResponse2 as needed
        ssiResponses.add(ssiResponse2);

        when(referentialServiceApi.getSsiDetails(anyString(), anyString(), anyString(), anyString())).thenReturn(ssiResponses);

        List<PaymentLinesModel> result = cashAllocationDomain.getPaymentLinesFromPaymentReference(paymentReferences);

        assertNotNull(result);
        assertEquals(2, result.size());
        // ... (other assertions) ...

        verify(paymentRepository).findPaymentLinesFromPaymentReferences(paymentReferences);
        verify(referentialServiceApi, times(2)).getSsiDetails(anyString(), anyString(), anyString(), anyString());
    }