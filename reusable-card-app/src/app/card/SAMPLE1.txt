   @Test
    void uploadPaymentAbFileViaReferential_shouldUploadFileAndLogSuccess() throws IOException {
        // Arrange
        String fileName = "test.txt";
        File file = mock(File.class);
        when(file.getName()).thenReturn(fileName);
        when(file.toPath()).thenReturn(new File(fileName).toPath()); // Mocking a path
        when(Files.readAllBytes(any())).thenReturn("test content".getBytes());
        when(file.delete()).thenReturn(true);

        // Act
        abDomain.uploadPaymentAbFileViaReferential(fileName);

        // Assert
        verify(referentialServiceApi, times(1)).uploadFileToGaiaServer(any(ByteArrayResource.class), anyString(), anyString());
        verify(file, times(1)).delete();
        // You might want to assert the log output as well, but that requires more setup
    }

    @Test
    void uploadPaymentAbFileViaReferential_shouldLogFailureIfFileNotDeleted() throws IOException {
        // Arrange
        String fileName = "test.txt";
        File file = mock(File.class);
        when(file.getName()).thenReturn(fileName);
        when(file.toPath()).thenReturn(new File(fileName).toPath()); // Mocking a path
        when(Files.readAllBytes(any())).thenReturn("test content".getBytes());
        when(file.delete()).thenReturn(false);

        // Act
        abDomain.uploadPaymentAbFileViaReferential(fileName);

        // Assert
        verify(referentialServiceApi, times(1)).uploadFileToGaiaServer(any(ByteArrayResource.class), anyString(), anyString());
        verify(file, times(1)).delete();
        // You might want to assert the log output as well, but that requires more setup
    }
