 @Test
    void getNettedPaymentRowsForManualPayment_emptySettlementAccounts() {
        // Arrange
        when(referentialServiceApi.getPaymentDates(anyString(), anyString(), anyString(), anyString(), anyString(), anyString()))
                .thenReturn(new PaymentDates(LocalDate.now(), LocalDate.now().minusDays(1)));

        when(invoiceServiceApi.getListOfBapDetailsForMultipleInvoices(anyList())) // Corrected to use anyList()
                .thenReturn(Arrays.asList(new BapPayableModel("portfolio1"), new BapPayableModel("portfolio2")));

        when(referentialServiceApi.getPortfolioDetailsBasedOnMnemonic(anyString()))
                .thenReturn(new PortfolioAdvanceDetailResponse("bdrId1"));

        when(referentialServiceApi.getSettlementAccounts(anyString(), anyString(), anyString()))
                .thenReturn(Collections.emptyList());

        // Act
        List<PaymentLinesModel> result = cashAllocationDomain.getNettedPaymentRowsForManualPayment(Collections.singletonList(new InvoicePayableModelForPayment()), "user"); // You might need to provide a sample InvoicePayableModelForPayment object

        // Assert
        assertEquals(1, result.size());
        assertEquals(Collections.emptyList(), result.get(0).getSsiAccountCode());
        assertEquals(0, result.get(0).getNumberOfSSI());
    }
