   @Test
    void testUpdatePaymentLines_success() {
        String paymentReference = finalDataForInsertion.get(0).getPaymentLinesFeoModel().getPaymentReference();

        // Create a PaymentEntity to be returned by the mock
        PaymentEntity paymentEntity = new PaymentEntity();
        // Populate paymentEntity with data from paymentLinesFeoModel

        when(paymentRepository.getPaymentEntitiesByPaymentReference(paymentReference)).thenReturn(List.of(paymentEntity));
        doNothing().when(invoiceServiceApi).sendPaymentDetailsToInvoiceService(anyList());

        String result = cashAllocationDomain.updatePaymentLines(user, finalDataForInsertion);

        assertEquals("SUCCESSFUL", result);
        verify(paymentRepository).getPaymentEntitiesByPaymentReference(paymentReference);
        verify(invoiceServiceApi).sendPaymentDetailsToInvoiceService(anyList());
    }
