 @Test
    void paymentDetailsByValueDate_ValidEndDate_ReturnsCashDetails() {
        // Arrange
        String validDate = "2023-10-05";
        LocalDate parsedDate = LocalDate.parse(validDate);
        CashAllocationModel mockModel = mock(CashAllocationModel.class);
        CashDetails mockDetails = mock(CashDetails.class);

        when(mockModel.getCashDetails()).thenReturn(mockDetails);
        when(cashAllocationRepositoryApi.findByValueDateIssReferences(parsedDate)) // Use correct method
            .thenReturn(List.of(mockModel));

        // Act
        List<CashDetails> result = cashAllocationDomain.paymentDetailsByValueDate(null, validDate);

        // Assert
        assertEquals(1, result.size());
        verify(mockDetails).setId(mockModel.getId());
        verify(cashAllocationRepositoryApi).findByValueDateIssReferences(parsedDate); // Verify correct method
        verify(logger).info("paymentDetailsByCounterParryId() ends");
    }