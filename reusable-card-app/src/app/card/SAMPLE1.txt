@Test
    void testInsertPaymentLines() {
        // Create a list of PaymentLinesFeoModel objects
        List<PaymentLinesFeoModel> paymentLines = new ArrayList<>();
        PaymentLinesFeoModel paymentLine1 = new PaymentLinesFeoModel();
        paymentLine1.setInvoiceReference("INV123");
        paymentLines.add(paymentLine1);

        // Mock InvoiceServiceApi.getListOfInvoices()
        List<InvoicePayableModel> invoices = new ArrayList<>();
        InvoicePayableModel invoice1 = new InvoicePayableModel();
        invoice1.setInvoiceReference("INV123");
        invoice1.setAmount(BigDecimal.TEN);
        invoices.add(invoice1);

        when(invoiceServiceApi.getListOfInvoices(List.of("INV123"))).thenReturn(invoices);

        // Mock InvoiceServiceApi.getListOfBapDetailsForMultipleInvoices()
        List<BapPayableModel> baps = new ArrayList<>();
        BapPayableModel bap1 = new BapPayableModel();
        bap1.setInvoiceReference("INV123");
        bap1.setBapAmount(BigDecimal.FIVE);
        baps.add(bap1);

        when(invoiceServiceApi.getListOfBapDetailsForMultipleInvoices(List.of("INV123"))).thenReturn(baps);

        // Call the method
        cashAllocationDomain.insertPaymentLines(paymentLines, "testUser");

        // Verify that InvoiceServiceApi.getListOfInvoices() was called
        verify(invoiceServiceApi).getListOfInvoices(List.of("INV123"));

        // Verify that InvoiceServiceApi.getListOfBapDetailsForMultipleInvoices() was called
        verify(invoiceServiceApi).getListOfBapDetailsForMultipleInvoices(List.of("INV123"));
    }