@Test
void updatePaymentLines_Success() {
    String user = "testUser";
    List<UpdatePaymentLines> finalDataForInsertion = new ArrayList<>();

    // Create a sample UpdatePaymentLines object and add it to the list
    UpdatePaymentLines updatePaymentLines = new UpdatePaymentLines();
    // Set necessary properties of updatePaymentLines (e.g., paymentRef, etc.)
    finalDataForInsertion.add(updatePaymentLines);

    // Mock the repository save method (if needed)
    when(cashAllocationRepositoryApi.save(any())).thenReturn(null);

    // Mock the invoiceServiceApi to return a non-null value if it's used to populate the array
    // (Replace with the actual method call and return value)
    when(invoiceServiceApi.getArray()).thenReturn(new String[] {"element1", "element2"});

    String result = cashAllocationDomain.updatePaymentLines(user, finalDataForInsertion);

    assertEquals("SUCCESSFUL", result);
    verify(invoiceServiceApi, times(1)).sendPaymentDetailsToInvoiceService(any());
}